(this["webpackJsonpsmartphone-marketplace"]=this["webpackJsonpsmartphone-marketplace"]||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},30:function(e,t,c){},32:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(19),s=c.n(a),i=(c(26),c(27),c(28),c(2)),u=c(4),o="https://front-test-api.herokuapp.com/api";function j(e){var t="".concat(o,"/product/").concat(e);return fetch(t).then((function(e){return e.json()}))}function d(e,t,c){var n={object:t,expiry:(new Date).getTime()+c};localStorage.setObject(e,n)}function l(e){var t=localStorage.getObject(e);return t?(new Date).getTime()>t.expiry?(localStorage.removeItem(e),null):t.object:null}Storage.prototype.setObject=function(e,t){this.setItem(e,JSON.stringify(t))},Storage.prototype.getObject=function(e){return JSON.parse(this.getItem(e))};function b(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),s=Object(u.a)(a,2),i=s[0],j=s[1];return Object(n.useEffect)((function(){r(!0);var e=l("cachedProductList");e?j(e):function(){var e="".concat(o,"/product");return fetch(e).then((function(e){return e.json()}))}().then((function(e){j(e),d("cachedProductList",e,36e5)})),r(!1)}),[]),{loading:c,productList:i}}var h=c(11),O=c.n(h),p=c(13),f=c(9),m={status:"idle",error:null,productDetails:{}},x=function(e,t){switch(t.type){case"LOADING":return Object(f.a)(Object(f.a)({},m),{},{status:"loading"});case"FETCHED":var c=function(e){for(var t in e)""===e[t]&&(e[t]="Check in store");return e}(t.payload);return Object(f.a)(Object(f.a)({},m),{},{status:"fetched",productDetails:c});case"FETCH_ERROR":return Object(f.a)(Object(f.a)({},m),{},{status:"error",error:t.payload});case"IDLE":return Object(f.a)({},m);default:return e}};function v(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),c=t[0],r=t[1];return{loading:c,trigger:function(e,t,c){return r(!0),function(e,t,c){var n="".concat(o,"/cart"),r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,colorCode:t,storageCode:c})};return fetch(n,r).then((function(e){return e.json()}))}(e,t,c).then((function(e){return r(!1),e.count}))}}}c(30);var g=c(0);function C(){return Object(g.jsxs)("header",{children:[Object(g.jsx)(N,{}),Object(g.jsx)(k,{}),Object(g.jsx)(Q,{})]})}var A=c(8);c(32);function N(){return Object(g.jsx)("div",{className:"header-logo",children:Object(g.jsx)(A.b,{to:"/",children:Object(g.jsx)("img",{src:"data:image/png;base64,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",alt:"smartphone-marketplace-logo"})})})}var E=c(21),D=(c(38),[{path:"/",name:"List"},{path:"/details/:id",name:"Details"}]);function k(){return Object(g.jsx)("div",{className:"header-breadcrumb",children:D.map((function(e,t){var c=e.path;e.name;return Object(g.jsx)(i.a,{exact:!0,path:c,render:function(e){var t=D.filter((function(t){var c=t.path;return e.match.path.includes(c)})).map((function(t){var c=t.path,n=Object(E.a)(t,["path"]);return Object(f.a)({path:Object.keys(e.match.params).length?Object.keys(e.match.params).reduce((function(t,c){return t.replace(":".concat(c),e.match.params[c])}),c):c},n)}));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{children:"Home"}),t.map((function(e,t){var c=e.name,n=e.path;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{children:" / "}),Object(g.jsx)(S,{path:n,name:c},c)]})}))]})}},t)}))})}function S(e){var t=e.path,c=e.name;return Object(g.jsx)(A.b,{to:t,children:c})}c(39);function y(){return Object(g.jsx)("div",{className:"spinner"})}function B(e){var t=e.src,c=e.alt;return Object(g.jsx)("img",{src:t,alt:c})}c(40);function F(e){var t=e.productDetails,c=t.brand,n=t.model,r=t.price,a=t.cpu,s=t.ram,i=t.os,u=t.displayResolution,o=t.battery,j=t.primaryCamera,d=t.secondaryCmera,l=[c,n,"".concat(u," screen"),"".concat(j," camera")],b=[{name:"cpu",info:a},{name:"ram",info:s},{name:"os",info:i},{name:"battery",info:o},{name:"secondaryCmera",info:d},{name:"price",info:r}];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"main-details",children:l.map((function(e,t){return Object(g.jsxs)("span",{children:[e,t!==l.length-1&&" \xb7 "]},t)}))}),Object(g.jsx)("div",{className:"secondary-details",children:b.map((function(e,t){var c=e.name,n=e.info;return Object(g.jsxs)("p",{children:[c,": ",n]},t)}))})]})}c(41);var M=c(1),I=M.createContext,P=M.useState,Y=I({});function w(e){var t=e.children,c=P(l("cartItems")||0),n=Object(u.a)(c,2),r=n[0],a=n[1];return Object(g.jsx)(Y.Provider,{value:{cartItems:r,setCartItems:function(e){a(e),d("cartItems",e,6e4)}},children:t})}var G=Y;function R(e){var t=e.productDetails,c=t.colors,r=t.id,a=Object(n.useState)(1),s=Object(u.a)(a,2),i=s[0],o=s[1],j=Object(n.useState)(0),d=Object(u.a)(j,2),l=d[0],b=d[1],h=v().trigger,f=Object(n.useContext)(G),m=f.cartItems,x=f.setCartItems,C=function(){var e=Object(p.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h(r,l+1,i);case 3:c=e.sent,x(m+c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("form",{onSubmit:C,children:[Object(g.jsxs)("label",{children:["Storage",Object(g.jsxs)("select",{value:i,onChange:function(e){o(Number(e.target.value))},children:[Object(g.jsx)("option",{value:"1",children:"64 GB"}),Object(g.jsx)("option",{value:"2",children:"128 GB"}),Object(g.jsx)("option",{value:"3",children:"256 GB"})]})]}),Object(g.jsxs)("label",{children:["Color",Object(g.jsx)("select",{value:l,onChange:function(e){b(Number(e.target.value))},children:c.map((function(e,t){return Object(g.jsx)("option",{value:t,children:e},t)}))})]}),Object(g.jsx)("input",{type:"submit",value:"Add to cart"})]})}c(42);function Q(){var e=Object(n.useContext)(G).cartItems;return Object(g.jsxs)("div",{className:"header-cart",children:[Object(g.jsx)("img",{src:"https://icon-library.com/images/cart-icon-free/cart-icon-free-0.jpg",alt:"Shopping cart Icon"}),Object(g.jsx)("span",{children:e})]})}c(43);function T(e){var t=e.search,c=e.handleSearch;return Object(g.jsx)("input",{className:"searchInput",placeholder:"filter by brand or model",value:t,onChange:c,type:"text"})}function q(){var e=function(e){var t=e.id,c=Object(n.useReducer)(x,m),r=Object(u.a)(c,2),a=r[0],s=r[1];return Object(n.useEffect)(Object(p.a)(O.a.mark((function e(){var c,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s({type:"LOADING"}),c=l("cachedProductDetails-".concat(t))){e.next=8;break}return e.next=5,j(t);case 5:n=e.sent,d("cachedProductDetails-".concat(t),n,36e5),c=n;case 8:0===c.code?s({type:"FETCH_ERROR",payload:c.message}):s({type:"FETCHED",payload:c});case 9:case"end":return e.stop()}}),e)}))),[t]),a}({id:Object(i.f)().id}),t=e.status,c=e.error,r=e.productDetails,a=r.imgUrl,s=r.model,o=r.brand,b="".concat(o," ").concat(s);return Object(g.jsxs)("div",{className:"productDetails-container",children:["loading"===t&&Object(g.jsx)(y,{}),"error"===t&&Object(g.jsx)("h1",{children:c}),"fetched"===t&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"productDetails-title",children:b}),Object(g.jsx)("div",{className:"productDetails-image",children:Object(g.jsx)(B,{src:a,alt:s})}),Object(g.jsxs)("div",{className:"productDetails-side",children:[Object(g.jsx)("div",{className:"productDetails-info",children:Object(g.jsx)(F,{productDetails:r})}),Object(g.jsx)("div",{className:"productDetails-actions",children:Object(g.jsx)(R,{productDetails:r})})]})]})]})}c(44);function H(e){var t=e.product,c=t.brand,n=t.model,r=t.imgUrl,a=t.price,s=t.id;return Object(g.jsxs)("div",{className:"product-grid-item",children:[Object(g.jsx)(A.b,{to:"/details/".concat(s),children:Object(g.jsx)("div",{className:"image-container",children:Object(g.jsx)("img",{src:r})})}),Object(g.jsxs)("div",{className:"product-grid-item-info",children:[Object(g.jsx)("p",{children:Object(g.jsx)("b",{children:""!==a?"".concat(a," \u20ac"):"Check in store"})}),Object(g.jsx)(A.b,{to:"/details/".concat(s),children:Object(g.jsx)("p",{children:n})}),Object(g.jsx)("p",{children:c})]})]})}function L(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],r=t[1],a=b(),s=a.loading,i=a.productList,o=Object(n.useState)([]),j=Object(u.a)(o,2),d=j[0],l=j[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),p=O[0],f=O[1],m=Object(n.useState)(12),x=Object(u.a)(m,2),v=x[0],C=x[1];Object(n.useEffect)((function(){C((d.length+9-1)/9)}),[d]),Object(n.useEffect)((function(){l(i)}),[i]),Object(n.useEffect)((function(){l(""===c?i:i.filter((function(e){var t=e.model,n=e.brand;return t===c||n===c})))}),[c]);return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"search-container",children:Object(g.jsx)(T,{value:c,handleSearch:function(e){r(e.target.value),0!==p&&f(0)}})}),s?Object(g.jsx)("div",{className:"spinner-container",children:Object(g.jsx)(y,{})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"pagination",children:[Object(g.jsx)("button",{className:"pagination-button",onClick:function(){0!==p&&f(p-1)},children:"\xab"}),Object(g.jsx)("button",{className:"pagination-button",onClick:function(){p!==v-1&&f(p+1)},children:"\xbb"})]}),Object(g.jsx)("div",{className:"product-grid",children:d.slice(9*p,9*p+(p!==v-1?9:d.length%9)).map((function(e,t){return Object(g.jsx)(H,{product:e},t)}))})]})]})}var z=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(A.a,{children:Object(g.jsxs)(w,{children:[Object(g.jsx)(C,{}),Object(g.jsx)("main",{children:Object(g.jsxs)(i.c,{children:[Object(g.jsx)(i.a,{exact:!0,path:"/details/:id",children:Object(g.jsx)(q,{})}),Object(g.jsx)(i.a,{path:"/",children:Object(g.jsx)(L,{})})]})})]})})})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,46)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(z,{})}),document.getElementById("root")),J()}},[[45,1,2]]]);
//# sourceMappingURL=main.1d4107a2.chunk.js.map