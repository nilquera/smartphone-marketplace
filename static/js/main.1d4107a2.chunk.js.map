{"version":3,"sources":["services/settings.js","services/getProductDetails.js","services/storeDataCached.js","hooks/useFetchProducts.js","services/getProducts.js","hooks/useFetchProductDetails.js","hooks/usePostToCart.js","services/addProductToCart.js","components/Header/index.js","assets/images/logo.png","components/Logo/index.js","components/Breadcrumb/index.js","components/Spinner/index.js","components/ProductImage/index.js","components/ProductDescription/index.js","context/CartContext.js","components/ProductActions/index.js","components/Cart/index.js","components/Search/index.js","pages/ProductDetails/index.js","pages/ProductList/ProductInList.js","pages/ProductList/index.js","App.js","reportWebVitals.js","index.js"],"names":["API_URL","getProductDetails","id","url","fetch","then","res","json","setObjectCached","key","object","ttl","storageItem","expiry","Date","getTime","localStorage","setObject","getObjectCached","getObject","removeItem","Storage","prototype","value","this","setItem","JSON","stringify","parse","getItem","useFetchProducts","useState","loading","setLoading","productList","setProductList","useEffect","cachedProductList","getProducts","products","initialState","status","error","productDetails","reducer","state","action","type","parsedDetails","details","detail","parseDetails","payload","usePostToCart","trigger","colorCode","storageCode","options","method","headers","body","addProductToCart","result","count","Header","Logo","Breadcrumb","Cart","className","to","src","alt","routes","path","name","map","exact","render","props","crumbs","filter","match","includes","rest","Object","keys","params","length","reduce","param","replace","Crumb","Spinner","ProductImage","ProductDescription","brand","model","price","cpu","ram","os","displayResolution","battery","primaryCamera","secondaryCmera","productDetailsMainArray","productDetailsArray","info","string","require","createContext","Context","CartContextProvider","children","cartItems","setCartItemsState","Provider","setCartItems","ProductActions","colors","storage","setStorage","color","setColor","useContext","handleSubmit","evt","a","preventDefault","onSubmit","onChange","Number","target","Search","search","handleSearch","placeholder","ProductDetails","useReducer","dispatch","cachedProductDetails","code","message","useFetchProductDetails","useParams","imgUrl","title","ProductInList","product","ProductList","setSearch","filteredProductList","setFilteredProductList","currentPage","setCurrentPage","pages","setPages","onClick","slice","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1d4107a2.chunk.js","sourcesContent":["export const API_URL = \"https://front-test-api.herokuapp.com/api\";\n","import { API_URL } from \"./settings\";\n\nexport default function getProductDetails(id) {\n  const url = `${API_URL}/product/${id}`;\n  return fetch(url).then((res) => res.json());\n}\n","Storage.prototype.setObject = function (key, value) {\n  this.setItem(key, JSON.stringify(value));\n};\n\nStorage.prototype.getObject = function (key) {\n  return JSON.parse(this.getItem(key));\n};\n\nexport function setObjectCached(key, object, ttl) {\n  const now = new Date();\n  const storageItem = {\n    object,\n    expiry: now.getTime() + ttl,\n  };\n\n  localStorage.setObject(key, storageItem);\n}\n\n/**\n * Returns the stored object if:\n *   - there's an stored object for the given key\n *   - the object hasn't expired\n * Otherwise, return null\n */\nexport function getObjectCached(key) {\n  const storageItem = localStorage.getObject(key);\n  if (!storageItem) return null;\n\n  const now = new Date();\n  if (now.getTime() > storageItem.expiry) {\n    localStorage.removeItem(key);\n    return null;\n  }\n\n  return storageItem.object;\n}\n","import { useEffect, useState } from \"react\";\nimport { getProducts, setObjectCached, getObjectCached } from \"services\";\n\nconst TTL = 1000 * 3600;\n\nexport default function useFetchProducts() {\n  const [loading, setLoading] = useState(false);\n  const [productList, setProductList] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n\n    const cachedProductList = getObjectCached(\"cachedProductList\");\n\n    if (cachedProductList) {\n      setProductList(cachedProductList);\n    } else {\n      getProducts().then((products) => {\n        setProductList(products);\n\n        setObjectCached(\"cachedProductList\", products, TTL);\n      });\n    }\n    setLoading(false);\n  }, []);\n\n  return { loading, productList };\n}\n","import { API_URL } from \"./settings\";\n\nexport default function getProducts() {\n  const url = `${API_URL}/product`;\n  return fetch(url).then((res) => res.json());\n}\n","import { useEffect, useReducer } from \"react\";\nimport { getObjectCached, getProductDetails, setObjectCached } from \"services\";\n\nconst TTL = 1000 * 3600;\n\nconst initialState = {\n  status: \"idle\",\n  error: null,\n  productDetails: {},\n};\n\nconst parseDetails = (details) => {\n  const UNKNOWN_TEXT = \"Check in store\";\n  for (const detail in details) {\n    if (details[detail] === \"\") details[detail] = UNKNOWN_TEXT;\n  }\n  return details;\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOADING\":\n      return { ...initialState, status: \"loading\" };\n    case \"FETCHED\": {\n      const parsedDetails = parseDetails(action.payload);\n      return {\n        ...initialState,\n        status: \"fetched\",\n        productDetails: parsedDetails,\n      };\n    }\n    case \"FETCH_ERROR\":\n      return { ...initialState, status: \"error\", error: action.payload };\n    case \"IDLE\":\n      return { ...initialState };\n    default:\n      return state;\n  }\n};\n\nexport default function useFetchProductDetails({ id }) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  useEffect(async () => {\n    dispatch({ type: \"LOADING\" });\n\n    let cachedProductDetails = getObjectCached(`cachedProductDetails-${id}`);\n\n    if (!cachedProductDetails) {\n      const productDetails = await getProductDetails(id);\n      setObjectCached(`cachedProductDetails-${id}`, productDetails, TTL);\n      cachedProductDetails = productDetails;\n    }\n\n    if (cachedProductDetails.code === 0)\n      dispatch({ type: \"FETCH_ERROR\", payload: cachedProductDetails.message });\n    else dispatch({ type: \"FETCHED\", payload: cachedProductDetails });\n  }, [id]);\n\n  return state;\n}\n","import { useState } from \"react\";\nimport { addProductToCart } from \"services\";\n\nexport default function usePostToCart() {\n  const [loading, setLoading] = useState(false);\n\n  const trigger = (id, colorCode, storageCode) => {\n    setLoading(true);\n    return addProductToCart(id, colorCode, storageCode).then((result) => {\n      setLoading(false);\n      return result.count;\n    });\n  };\n\n  return { loading, trigger };\n}\n","import { API_URL } from \"./settings\";\n\nexport default function AddProductToCart(id, colorCode, storageCode) {\n  const url = `${API_URL}/cart`;\n  const options = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ id, colorCode, storageCode }),\n  };\n  return fetch(url, options).then((res) => res.json());\n}\n","import { Logo, Breadcrumb, Cart } from \"components\";\nimport \"./styles.css\";\n\nexport default function Header() {\n  return (\n    <header>\n      <Logo />\n      <Breadcrumb />\n      <Cart />\n    </header>\n  );\n}\n","export default \"data:image/png;base64,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\"","import logoSrc from \"assets/images/logo.png\";\nimport { Link } from \"react-router-dom\";\nimport \"./styles.css\";\n\nexport default function Logo() {\n  return (\n    <div className=\"header-logo\">\n      <Link to=\"/\">\n        <img src={logoSrc} alt=\"smartphone-marketplace-logo\" />\n      </Link>\n    </div>\n  );\n}\n","import { Link, Route } from \"react-router-dom\";\nimport \"./styles.css\";\n\nconst routes = [\n  { path: \"/\", name: \"List\" },\n  { path: \"/details/:id\", name: \"Details\" },\n];\n\nexport default function Breadcrumb() {\n  return (\n    <div className=\"header-breadcrumb\">\n      {routes.map(({ path, name }, key) => {\n        return (\n          <Route\n            exact\n            path={path}\n            key={key}\n            render={(props) => {\n              const crumbs = routes\n                .filter(({ path }) => props.match.path.includes(path))\n                .map(({ path, ...rest }) => ({\n                  path: Object.keys(props.match.params).length\n                    ? Object.keys(props.match.params).reduce(\n                        (path, param) =>\n                          path.replace(`:${param}`, props.match.params[param]),\n                        path\n                      )\n                    : path,\n                  ...rest,\n                }));\n\n              return (\n                <>\n                  <span>Home</span>\n                  {crumbs.map(({ name, path }, key) => {\n                    return (\n                      <>\n                        <span>{\" / \"}</span>\n                        <Crumb path={path} name={name} key={name} />\n                      </>\n                    );\n                  })}\n                </>\n              );\n            }}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nfunction Crumb({ path, name }) {\n  return <Link to={path}>{name}</Link>;\n}\n","import \"./styles.css\";\nexport default function Spinner() {\n  return <div className=\"spinner\" />;\n}\n","export default function ProductImage({ src, alt }) {\n  return <img src={src} alt={alt} />;\n}\n","import \"./styles.css\";\n\nexport default function ProductDescription({ productDetails }) {\n  const {\n    brand,\n    model,\n    price,\n    cpu,\n    ram,\n    os,\n    displayResolution,\n    battery,\n    primaryCamera,\n    secondaryCmera,\n  } = productDetails;\n\n  const productDetailsMainArray = [\n    brand,\n    model,\n    `${displayResolution} screen`,\n    `${primaryCamera} camera`,\n  ];\n\n  const productDetailsArray = [\n    { name: \"cpu\", info: cpu },\n    { name: \"ram\", info: ram },\n    { name: \"os\", info: os },\n    { name: \"battery\", info: battery },\n    { name: \"secondaryCmera\", info: secondaryCmera },\n    { name: \"price\", info: price },\n  ];\n\n  return (\n    <>\n      <div className=\"main-details\">\n        {productDetailsMainArray.map((string, key) => {\n          return (\n            <span key={key}>\n              {string}\n              {key !== productDetailsMainArray.length - 1 && \" · \"}\n            </span>\n          );\n        })}\n      </div>\n      <div className=\"secondary-details\">\n        {productDetailsArray.map(({ name, info }, key) => {\n          return (\n            <p key={key}>\n              {name}: {info}\n            </p>\n          );\n        })}\n      </div>\n    </>\n  );\n}\n","import { getObjectCached, setObjectCached } from \"services\";\n\nconst { createContext, useState } = require(\"react\");\n\nconst Context = createContext({});\n\nconst TTL = 1000 * 60;\n\nexport function CartContextProvider({ children }) {\n  const [cartItems, setCartItemsState] = useState(\n    getObjectCached(\"cartItems\") || 0\n  );\n\n  const setCartItems = (value) => {\n    setCartItemsState(value);\n    setObjectCached(\"cartItems\", value, TTL);\n  };\n\n  return (\n    <Context.Provider value={{ cartItems, setCartItems }}>\n      {children}\n    </Context.Provider>\n  );\n}\n\nexport default Context;\n","import \"./styles.css\";\nimport Context from \"context/CartContext\";\nimport { usePostToCart } from \"hooks\";\nimport { useContext, useState } from \"react\";\n\nexport default function ProductActions({ productDetails }) {\n  const { colors, id } = productDetails;\n\n  const [storage, setStorage] = useState(1);\n  const [color, setColor] = useState(0);\n  const { trigger } = usePostToCart();\n  const { cartItems, setCartItems } = useContext(Context);\n\n  const handleChangeStorage = (evt) => {\n    setStorage(Number(evt.target.value));\n  };\n\n  const handleChangeColor = (evt) => {\n    setColor(Number(evt.target.value));\n  };\n\n  const handleSubmit = async (evt) => {\n    evt.preventDefault();\n    const count = await trigger(id, color + 1, storage);\n    setCartItems(cartItems + count);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label>\n        Storage\n        <select value={storage} onChange={handleChangeStorage}>\n          <option value=\"1\">64 GB</option>\n          <option value=\"2\">128 GB</option>\n          <option value=\"3\">256 GB</option>\n        </select>\n      </label>\n      <label>\n        Color\n        <select value={color} onChange={handleChangeColor}>\n          {colors.map((color, key) => {\n            return (\n              <option key={key} value={key}>\n                {color}\n              </option>\n            );\n          })}\n        </select>\n      </label>\n\n      <input type=\"submit\" value=\"Add to cart\" />\n    </form>\n  );\n}\n","import \"./styles.css\";\nimport Context from \"context/CartContext\";\nimport { useContext } from \"react\";\n\nexport default function Cart() {\n  const { cartItems } = useContext(Context);\n\n  return (\n    <div className=\"header-cart\">\n      <img\n        src=\"https://icon-library.com/images/cart-icon-free/cart-icon-free-0.jpg\"\n        alt=\"Shopping cart Icon\"\n      />\n      <span>{cartItems}</span>\n    </div>\n  );\n}\n","import \"./styles.css\";\n\nexport default function Search({ search, handleSearch }) {\n  return (\n    <input\n      className=\"searchInput\"\n      placeholder=\"filter by brand or model\"\n      value={search}\n      onChange={handleSearch}\n      type=\"text\"\n    />\n  );\n}\n","import \"./styles.css\";\n\nimport { useParams } from \"react-router-dom\";\nimport { useFetchProductDetails } from \"hooks\";\nimport {\n  ProductActions,\n  ProductDescription,\n  ProductImage,\n  Spinner,\n} from \"components\";\n\nexport default function ProductDetails() {\n  const { id } = useParams();\n  const { status, error, productDetails } = useFetchProductDetails({ id });\n  const { imgUrl, model, brand } = productDetails;\n  const title = `${brand} ${model}`;\n\n  return (\n    <div className=\"productDetails-container\">\n      {status === \"loading\" && <Spinner />}\n      {status === \"error\" && <h1>{error}</h1>}\n      {status === \"fetched\" && (\n        <>\n          <div className=\"productDetails-title\">{title}</div>\n          <div className=\"productDetails-image\">\n            <ProductImage src={imgUrl} alt={model} />\n          </div>\n          <div className=\"productDetails-side\">\n            <div className=\"productDetails-info\">\n              <ProductDescription productDetails={productDetails} />\n            </div>\n            <div className=\"productDetails-actions\">\n              <ProductActions productDetails={productDetails} />\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n","import { Link } from \"react-router-dom\";\n\nexport default function ProductInList({ product }) {\n  const { brand, model, imgUrl, price, id } = product;\n  return (\n    <div className=\"product-grid-item\">\n      <Link to={`/details/${id}`}>\n        <div className=\"image-container\">\n          <img src={imgUrl} />\n        </div>\n      </Link>\n      <div className=\"product-grid-item-info\">\n        <p>\n          <b>{price !== \"\" ? `${price} €` : \"Check in store\"}</b>\n        </p>\n        <Link to={`/details/${id}`}>\n          <p>{model}</p>\n        </Link>\n        <p>{brand}</p>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useFetchProducts } from \"hooks\";\nimport \"./styles.css\";\nimport ProductInList from \"./ProductInList\";\nimport { Search, Spinner } from \"components\";\n\nconst ITEMS_PAGE = 9;\n\nexport default function ProductList() {\n  const [search, setSearch] = useState(\"\");\n  const { loading, productList } = useFetchProducts();\n  const [filteredProductList, setFilteredProductList] = useState([]);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [pages, setPages] = useState(12);\n\n  const handleSearch = (evt) => {\n    setSearch(evt.target.value);\n    if (currentPage !== 0) setCurrentPage(0);\n  };\n\n  useEffect(() => {\n    setPages((filteredProductList.length + ITEMS_PAGE - 1) / ITEMS_PAGE);\n  }, [filteredProductList]);\n\n  useEffect(() => {\n    setFilteredProductList(productList);\n  }, [productList]);\n\n  useEffect(() => {\n    if (search === \"\") setFilteredProductList(productList);\n    else {\n      setFilteredProductList(\n        productList.filter(({ model, brand }) => {\n          return model === search || brand === search;\n        })\n      );\n    }\n  }, [search]);\n\n  const increaseCurrentPage = () => {\n    if (currentPage !== pages - 1) setCurrentPage(currentPage + 1);\n  };\n\n  const decreaseCurrentPage = () => {\n    if (currentPage !== 0) setCurrentPage(currentPage - 1);\n  };\n\n  return (\n    <div>\n      <div className=\"search-container\">\n        <Search value={search} handleSearch={handleSearch} />\n      </div>\n      {loading ? (\n        <div className=\"spinner-container\">\n          <Spinner />\n        </div>\n      ) : (\n        <>\n          <div className=\"pagination\">\n            <button className=\"pagination-button\" onClick={decreaseCurrentPage}>\n              &laquo;\n            </button>\n            <button className=\"pagination-button\" onClick={increaseCurrentPage}>\n              &raquo;\n            </button>\n          </div>\n          <div className=\"product-grid\">\n            {filteredProductList\n              .slice(\n                currentPage * ITEMS_PAGE,\n                currentPage * ITEMS_PAGE +\n                  (currentPage !== pages - 1\n                    ? ITEMS_PAGE\n                    : filteredProductList.length % ITEMS_PAGE)\n              )\n              .map((product, key) => {\n                return <ProductInList key={key} product={product} />;\n              })}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n","import \"./App.css\";\nimport { ProductDetails, ProductList } from \"pages\";\nimport { Header } from \"components\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport { CartContextProvider } from \"context/CartContext\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        <CartContextProvider>\n          <Header />\n          <main>\n            <Switch>\n              <Route exact path=\"/details/:id\">\n                <ProductDetails />\n              </Route>\n              <Route path=\"/\">\n                <ProductList />\n              </Route>\n            </Switch>\n          </main>\n        </CartContextProvider>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}